<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace:패키지명,클래스이름을 논리적으로 선언 -->
<mapper namespace="com.groupware.mapper.AddressBookMapper">

	
	<insert id="insertAddressBook" parameterType="AddressBook">

		INSERT INTO addressbook
		(
		addressno, id, name, email, phone_number, home_number, groupno,
		fax, nation)
		VALUES(
		addressno_sequence.nextval, #{id}, #{name}, #{email}, #{phoneNumber}, #{homeNumber}, #{groupNo},  #{fax}, #{nation})
	</insert>
	
	 
	<!--  	페이징 처리 [목록 조회] -->
	<select id="getAddressbookList" parameterType="hashMap" resultType="AddressBook">
	SELECT
	
	FROM
		(	
		SELECT
			rownum idx, s.*
		FROM (
			SELECT
				addressno, id, groupno, classify, name, email, phone_number, home_number, fax
			FROM 
				addressbook
			WHERE classify = #{ classify }
			ORDER BY 
				addressno DESC
			)s
		)
	WHERE
		idx	&gt; =  #{ first } AND idx &lt; #{ last }
	</select>
	


</mapper>                                                                                 